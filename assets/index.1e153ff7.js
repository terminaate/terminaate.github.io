import{r as e,l as t,a,b as n,c as s,j as i,N as r,d,B as l,M as c,I as o,m as _,f as p,U as h,n as u}from"./index.0ead5e23.js";import{B as m,T as b,A as f}from"./TextArea.6f007185.js";import{M as v}from"./Markdown.cb9a70df.js";const C="_container_d2pb1_1",N="_title_d2pb1_7",x="_textAreaContainer_d2pb1_15",k="_tabs_d2pb1_22",y="_tabContainer_d2pb1_30",g="_underline_d2pb1_41",w="_tabContent_d2pb1_50",M="_tabTitle_d2pb1_55",j="_textArea_d2pb1_15",A="_previewContainer_d2pb1_70",T="_buttonsContainer_d2pb1_78",I=[{key:0,title:"Code",icon:i(m,{}),content:(e,t)=>i(b,{className:j,rows:19,cols:30,value:e,onChange:t,placeholder:"Content there...",inputMode:"none"})},{key:1,title:"Preview",icon:i(f,{}),content:e=>i("div",{className:A,children:i(v,{children:e})})}],P=()=>{const[m,b]=e.exports.useState(),[f,v]=e.exports.useState(0),[j,A,P]=t(""),[B,E,S]=t(""),U=a(),{id:R}=n(),q=e.exports.useRef(!1),z=s();e.exports.useEffect((()=>{(async()=>{const{data:e}=await h.getPost(R);e&&(q.current=!0,b(e),P(e.title),S(e.content))})()}),[]);return q.current?d(l,{containerClassName:C,header:!0,container:!0,children:[d("h1",{className:N,children:[i(c,{}),i("span",{children:"Edit post"})]}),i(o,{placeholder:"Title",value:j,onChange:A}),d("div",{className:x,children:[i("div",{className:k,children:I.map(((e,t)=>d("div",{onClick:()=>v(e.key),className:y,"data-active":e.key===f,children:[d("div",{className:w,children:[e.icon,i("h3",{className:M,children:e.title})]}),e.key===f&&i(_.div,{className:g,layoutId:"underline"})]},t)))}),I.find((e=>e.key===f)).content(B,E)]}),i("div",{className:T,children:i(p,{onClick:async()=>{if(!j)return U(u("Input title!"));if(j.length<3)return U(u("Min title length is 3!"));if(j.length>32)return U(u("Max title length is 32!"));return 200===(await h.patchPost({id:R,title:j,content:B})).status?z("/posts"):void 0},children:"Update"})})]}):i(r,{})};export{P as default};
